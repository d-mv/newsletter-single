(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,o){e.exports={createForm:"SourceCreate_createForm__ip7VY",openForm:"SourceCreate_openForm__LzWuh",labelTitle:"SourceCreate_labelTitle__1cXrb",center:"SourceCreate_center__2kQsx"}},function(e,t,o){e.exports={body:"PostShow_body__2WmAE",secondLine:"PostShow_secondLine__3vwd2",sourceAuthorWrapper:"PostShow_sourceAuthorWrapper__1tVgH",author:"PostShow_author__2BZMA",buttonsWrapper:"PostShow_buttonsWrapper__2AD4t",text:"PostShow_text__2EVp7",signature:"PostShow_signature__2pbhX","book-cta":"PostShow_book-cta__J9QoZ","border-bottom":"PostShow_border-bottom__21nEI",statusLine:"PostShow_statusLine__18MQB"}},,function(e,t,o){e.exports={sectionWrapper:"SourceCard_sectionWrapper__cLh38",section:"SourceCard_section__1GsAX",nameWrapper:"SourceCard_nameWrapper__2qkrb",name:"SourceCard_name__3dZ2_",url:"SourceCard_url__3DiHr",buttonsWrapper:"SourceCard_buttonsWrapper__2bEZR"}},,function(e,t,o){e.exports={button:"PostButton_button__2W_Fb",delete:"PostButton_delete__2KLD_",on:"PostButton_on__MT6cS",read:"PostButton_read__1Wxur",unRead:"PostButton_unRead__kKFrQ"}},function(e,t,o){e.exports={body:"PostCard_body__1dWen",bodyRead:"PostCard_bodyRead__2-ozQ",text:"PostCard_text__LS6Tr",secondLine:"PostCard_secondLine__8KX_q",statsLine:"PostCard_statsLine__3e0dV"}},,function(e,t,o){e.exports={newsletterHead:"TitleBar_newsletterHead__O-_qt",title:"TitleBar_title__3YLqa",timeStamp:"TitleBar_timeStamp__3J601"}},function(e,t,o){e.exports={element:"NavMenuElement_element__df_g8",button:"NavMenuElement_button__2gpJC",buttonArrow:"NavMenuElement_buttonArrow__3lPn9",buttonArrowOpen:"NavMenuElement_buttonArrowOpen__gmt7u"}},function(e,t,o){e.exports={content:"PostCardList_content__2V28v",grid:"PostCardList_grid__lArsm",gridCell:"PostCardList_gridCell__1xCNd"}},function(e,t,o){e.exports={errorWrapper:"Error_errorWrapper__1935b",errorTitle:"Error_errorTitle__2ctO9",error:"Error_error__2O-9n"}},function(e,t,o){e.exports={button:"SourceButton_button__1TMyL",buttonDims:"SourceButton_buttonDims__2J6RB",addSource:"SourceButton_addSource__Q5b6a",refreshSource:"SourceButton_refreshSource__3zNOa"}},function(e,t,o){e.exports={section:"SourcesList_section__2QZ_A",message:"SourcesList_message__1ujgw",buttonsWrapper:"SourcesList_buttonsWrapper__zvfx3"}},,,,function(e,t,o){e.exports={menu:"NavMenu_menu__3DpfU",menuOpen:"NavMenu_menuOpen__3P4RL"}},function(e,t,o){e.exports={title:"PostTitle_title__3Rtbu",postTitle:"PostTitle_postTitle__1exmo",postTitleShow:"PostTitle_postTitleShow__YJbat"}},function(e,t,o){e.exports={sourceFormat:"Source_sourceFormat__3I71m",source:"Source_source__39_G7",sourceShow:"Source_sourceShow__2Gc-e"}},function(e,t,o){e.exports={divider:"Divider_divider__1AOMc",dividerCard:"Divider_dividerCard__qxBqq"}},,,,,,,,,,function(e,t,o){e.exports=o(60)},,,,,,,,,,,,,,,,,,,,function(e,t,o){},function(e,t,o){"use strict";o.r(t);var a=o(0),r=o.n(a),n=o(34),s=o.n(n),c=o(8),u=o(6),i=o(36),p=o(37),l=o.n(p),d=o(38),h=o.n(d),m=o(1),_=o(2),f=o(4),b=o(3),S=o(5),E={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},v={1:"Sun",2:"Mon",3:"Tue",4:"Wed",5:"Thu",6:"Fri",7:"Sat"},O=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=new Date;this.props.timestamp&&(e=new Date(this.props.timestamp));var t="".concat(e.getHours(),":").concat(e.getMinutes()," am");e.getHours()>12&&(t="".concat(e.getHours()-12,":").concat(e.getMinutes()," pm"));var o="".concat(v[e.getDay()+1]," ").concat(e.getDate()," ").concat(E[e.getMonth()+1]," at ").concat(t);return this.props.pre&&(o="".concat(this.props.pre," ").concat(o)),r.a.createElement("div",null,o)}}]),t}(r.a.Component),g=o(17),y=o.n(g),w=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:y.a.newsletterHead},r.a.createElement("div",{className:y.a.title},"The Newsletter"),r.a.createElement("time",{className:y.a.timeStamp},r.a.createElement(O,null)))}}]),t}(r.a.Component),j=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL||"https://the-newsletter-app.herokuapp.com/api";function C(){return{type:"SET_POSTS",payload:fetch("".concat(j,"/list")).then(function(e){return e.json()}).catch(function(e){return e})}}function P(e){return{type:"UPDATE_POST",payload:fetch(j,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:e})}).then(function(e){return e.json()}).catch(function(e){return e})}}function T(e){return{type:"UPDATE_SOURCE",payload:fetch(j,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:e})}).then(function(e){return e.json()}).catch(function(e){return e})}}function k(){return{type:"REFRESH_POSTS",payload:fetch(j,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:{action:["post","refresh"]}})}).then(function(e){return e.json()}).catch(function(e){return e})}}function N(e){return{type:"ADD_SOURCE",payload:fetch(j,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:e})}).then(function(e){return e.json()}).catch(function(e){return e})}}function A(e){return e.action&&e.id?{type:"DELETE_SOURCE",payload:fetch(j,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:e})}).then(function(e){return e}).catch(function(e){return e})}:"Missing action and/or id"}function R(){return{type:"SET_SOURCES",payload:fetch("".concat(j,"/sources")).then(function(e){return e.json()})}}function D(e){return{type:"SELECT_POST",payload:fetch("".concat(j,"/post/").concat(e)).then(function(e){return e.json()})}}var M=o(18),L=o.n(M),W=function(e){function t(){var e,o;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(o=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){"Show/Hide Read"===o.props.name?(o.props.options.showRead(""),o.props.options.menuOpen("")):"toggle"!==o.props.name?(o.props.options.menuOpen(""),o.props.options.show(o.props.name)):o.props.options.menuOpen("")},o}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=L.a.button,t=this.props.name;return"toggle"===t&&(t="\u22ee",e=this.props.options.menuStatus?L.a.buttonArrowOpen:L.a.buttonArrow),r.a.createElement("div",{onClick:this.handleClick,className:e},t)}}]),t}(r.a.Component),x=o(26),I=o.n(x),U=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=I.a.menu;return this.props.options.menuStatus&&(e=I.a.menuOpen),r.a.createElement("nav",{className:e},r.a.createElement(W,{options:this.props.options,name:"toggle"}),r.a.createElement(W,{options:this.props.options,name:"Sources"}),r.a.createElement(W,{options:this.props.options,name:"Show/Hide Read"}),r.a.createElement(W,{options:this.props.options,name:"Home"}))}}]),t}(r.a.Component),B=o(7),H=o(27),J=o.n(H),q=function(e){function t(){var e,o;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(o=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){o.props.titleClick()},o}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=J.a.postTitle;return"show"===this.props.mode&&(e=J.a.postTitleShow),r.a.createElement("header",{onClick:this.handleClick,className:e},this.props.postTitle)}}]),t}(r.a.Component),F=o(14),Q=o.n(F),V=function(e){function t(){var e,o;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(o=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).updatePost=function(){var e="";switch(o.props.type){case"delete":e=["post","delete"];break;default:e=["post","update"]}var t={};t["".concat(o.props.type)]=!o.props.value;var a={id:o.props.postId,action:e,fields:t};o.props.updatePost(a),o.props.toggle&&o.props.toggle("Home")},o}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e="\u2718",t=Q.a.delete;switch(this.props.type){case"star":e="\u2713",t=Q.a.button,this.props.value&&(t=Q.a.on);break;case"read":e="\u25ce",t=Q.a.read,this.props.value&&(e="\u25c9",t=Q.a.unRead)}return r.a.createElement("button",{className:t,onClick:this.updatePost},e)}}]),t}(r.a.Component),X=Object(c.b)(function(e){return{updatePost:e.updatePost}},function(e){return Object(u.b)({updatePost:P},e)})(V),Z=o(28),z=o.n(Z),G=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=z.a.source;return"show"===this.props.mode&&(e=z.a.sourceShow),r.a.createElement("div",{className:e},"@ ",this.props.source)}}]),t}(r.a.Component),K=function(e){return"~".concat(e.volume," ").concat(e.units)},Y=o(15),$=o.n(Y),ee=function(e){function t(e){var o;return Object(m.a)(this,t),(o=Object(f.a)(this,Object(b.a)(t).call(this,e))).handleClick=function(){o.props.selector(o.props.post._id)},o.handleClick=o.handleClick.bind(Object(B.a)(Object(B.a)(o))),o}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e="".concat(this.props.post.text.replace(/<(?:.|\n)*?>/gm," "),"..."),t=$.a.body;return this.props.post.read&&(t=$.a.bodyRead),r.a.createElement("section",{className:t,key:this.props.post._id},r.a.createElement(q,{mode:"card",titleClick:this.handleClick,postTitle:this.props.post.title}),r.a.createElement("section",{className:$.a.secondLine},r.a.createElement(G,{mode:"card",source:this.props.post.source}),r.a.createElement("div",{className:$.a.buttonsWrapper},r.a.createElement(X,{type:"star",value:this.props.post.star,postId:this.props.post._id}),r.a.createElement(X,{type:"read",value:this.props.post.read,postId:this.props.post._id}))),r.a.createElement("section",{className:$.a.text,onClick:this.handleClick,dangerouslySetInnerHTML:{__html:e}}),r.a.createElement("footer",null,r.a.createElement(O,{timestamp:new Date(this.props.post.published)}),r.a.createElement(K,{volume:this.props.post.readTime,units:"mins",mode:"card"})))}}]),t}(r.a.Component),te=o(29),oe=o.n(te),ae=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=oe.a.divider;return this.props.card&&(e=oe.a.dividerCard),r.a.createElement("div",{className:e})}}]),t}(r.a.Component),re=o(19),ne=o.n(re),se=o(20),ce=o.n(se),ue=function(e){return r.a.createElement("main",{className:ce.a.errorWrapper},r.a.createElement("p",{className:ce.a.errorTitle},"ERROR"),r.a.createElement("p",{className:ce.a.error},e.message))},ie=function(e){function t(){var e,o;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(o=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).fetchPosts=function(){o.props.setPosts().then(function(e){})},o.selectPostToShow=function(e){o.props.selectPost(e).then(function(e){o.props.showPost(e)})},o}return Object(S.a)(t,e),Object(_.a)(t,[{key:"componentWillMount",value:function(){this.fetchPosts()}},{key:"componentDidMount",value:function(){this.refresher=setInterval(this.fetchPosts,5e3),window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refresher)}},{key:"render",value:function(){var e=this,t=this.props.posts.message;return t?r.a.createElement(ue,{message:t}):r.a.createElement("div",{className:ne.a.grid},this.props.posts.map(function(t){return e.props.showRead||t.read?e.props.showRead?r.a.createElement("div",{className:ne.a.gridCell,key:t._id},r.a.createElement(ee,{selector:e.selectPostToShow,post:t}),r.a.createElement(ae,{card:!0})):null:r.a.createElement("div",{className:ne.a.gridCell,key:t._id},r.a.createElement(ee,{selector:e.selectPostToShow,post:t}),r.a.createElement(ae,{card:!0}))}))}}]),t}(r.a.Component),pe=Object(c.b)(function(e){return{posts:e.posts,selectPost:e.selectPost,selectModule:e.selectModule}},function(e){return Object(u.b)({setPosts:C,selectPost:D},e)})(ie),le=o(21),de=o.n(le),he=function(e){function t(){var e,o;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(o=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){"add"===o.props.type&&o.props.show(""),"delete"===o.props.type&&o.props.sourceDelete(""),"refresh"===o.props.type&&o.props.refresh(""),"edit"===o.props.type&&o.props.toggleEditSource(o.props.sourceId)},o}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e="Add Source",t=de.a.button;switch(this.props.type){case"edit":e="\u270e";break;case"refresh":e="Refresh",t=de.a.refreshSource;break;case"add":t=de.a.addSource;break;default:e="\u2326"}return r.a.createElement("button",{className:t,onClick:this.handleClick},e)}}]),t}(r.a.Component),me=o(9),_e=o.n(me),fe=function(e){function t(e){var o;return Object(m.a)(this,t),o=Object(f.a)(this,Object(b.a)(t).call(this,e)),e.source?o.state={name:e.source.name,url:e.source.url,home:e.source.home}:o.state={name:"",url:"",home:""},o.handleChange=o.handleChange.bind(Object(B.a)(Object(B.a)(o))),o.handleSubmit=o.handleSubmit.bind(Object(B.a)(Object(B.a)(o))),o}return Object(S.a)(t,e),Object(_.a)(t,[{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={name:e.target[0].value,url:e.target[1].value,home:e.target[2].value};if("Update"===this.props.mode)if(t.name===this.props.source.name&&t.url===this.props.source.url&&t.home===this.props.source.home)this.props.toggleEditSource();else{var o={id:this.props.source._id,values:t};this.props.toggleEditSource(),this.props.updateSource(o)}else"Create"===this.props.mode&&(this.props.toggle(),this.props.create(t))}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit,className:_e.a.createForm},r.a.createElement("label",null,r.a.createElement("div",{className:_e.a.labelTitle},"Name"),r.a.createElement("input",{className:_e.a.input,type:"text",name:"name",value:this.state.name,onChange:this.handleChange})),r.a.createElement("label",null,r.a.createElement("div",{className:_e.a.labelTitle},"URL"),r.a.createElement("input",{type:"text",name:"url",value:this.state.url,onChange:this.handleChange})),r.a.createElement("label",null,r.a.createElement("div",{className:_e.a.labelTitle},"Homepage"),r.a.createElement("input",{type:"text",name:"home",value:this.state.home,onChange:this.handleChange})),r.a.createElement("div",{className:_e.a.center},r.a.createElement("button",{className:_e.a.submit,as:"input",type:"submit",value:"Submit"},this.props.mode)))}}]),t}(r.a.Component),be=o(12),Se=o.n(be),Ee=function(e){function t(){var e,o;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(o=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).sourceDelete=function(){o.props.sourceDelete(o.props.source._id)},o}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=!1;return this.props.showEditSourceId===this.props.source._id&&this.props.showEdit&&(e=!0),r.a.createElement("section",{className:Se.a.sectionWrapper},r.a.createElement("div",{className:Se.a.section},r.a.createElement("section",{className:Se.a.nameWrapper},r.a.createElement("p",{onClick:this.goHome,className:Se.a.name},this.props.source.name),r.a.createElement("p",{className:Se.a.url},this.props.source.url)),r.a.createElement("section",{className:Se.a.buttonsWrapper},r.a.createElement(he,{type:"edit",toggleEditSource:this.props.toggleEditSource,sourceId:this.props.source._id}),r.a.createElement(he,{type:"delete",sourceDelete:this.sourceDelete}))),e?r.a.createElement(fe,{mode:"Update",toggleEditSource:this.props.toggleEditSource,source:this.props.source,updateSource:this.props.updateSource}):null)}}]),t}(r.a.Component),ve=o(22),Oe=o.n(ve),ge=function(e){function t(){var e,o;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(o=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={showAddSource:!1,showEditSource:!1,showEditSourceId:"",message:""},o.toggleAddSource=function(){o.state.showEditSource&&o.setState({showEditSource:!1,showEditSourceId:""}),o.setState(function(e){return{showAddSource:!o.state.showAddSource}})},o.toggleEditSource=function(e){console.log(e),console.log(o.state.showEditSource),console.log(o.state.showEditSourceId),o.state.showAddSource&&o.setState({showAddSource:!1}),o.state.showEditSource?e===o.state.showEditSourceId?o.setState({showEditSource:!o.state.showEditSource,showEditSourceId:e}):e&&e!==o.state.showEditSourceId?o.setState({showEditSource:!0,showEditSourceId:e}):o.setState({showEditSource:!1,showEditSourceId:""}):o.setState({showEditSource:!0,showEditSourceId:e})},o.changeMessage=function(e){o.setState({message:e}),setTimeout(o.clearMessage,3e3)},o.fetchSources=function(){o.props.setSources()},o.clearMessage=function(){o.setState({message:""})},o.createSource=function(e){""!==e.name&&""!==e.home&&""!==e.url||o.changeMessage("Not enough info. Source not created.");var t={action:["source","create"],fields:e};o.props.addSource(t)},o.updateSource=function(e){""!==e.values.name&&""!==e.values.home&&""!==e.values.url&&""!==e.values.id||o.changeMessage("Not enough info. Source not created.");var t={action:["source","update"],id:e.id,fields:e.values};o.props.updateSource(t)},o.sourceDelete=function(e){var t={action:["source","delete"],id:e};o.props.deleteSource(t),o.fetchSources()},o.handleRefreshPosts=function(){o.props.refreshPosts()},o}return Object(S.a)(t,e),Object(_.a)(t,[{key:"componentWillMount",value:function(){this.fetchSources()}},{key:"componentDidMount",value:function(){this.refresher=setInterval(this.fetchSources,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refresher)}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:Oe.a.section},r.a.createElement("div",{className:Oe.a.buttonsWrapper},this.props.sources.length>0?r.a.createElement(he,{type:"refresh",refresh:this.handleRefreshPosts,name:"Refresh"}):null,r.a.createElement(he,{type:"add",show:this.toggleAddSource,name:"Add Source"})),this.state.showAddSource?r.a.createElement(fe,{mode:"Create",create:this.createSource,toggle:this.toggleAddSource}):null,""===this.state.message?null:r.a.createElement("div",{className:Oe.a.message},this.state.message),this.props.sources.map(function(t){return r.a.createElement(Ee,{source:t,key:t._id,sourceDelete:e.sourceDelete,showEdit:e.state.showEditSource,showEditSourceId:e.state.showEditSourceId,toggleEditSource:e.toggleEditSource,updateSource:e.updateSource})}))}}]),t}(r.a.Component),ye=Object(c.b)(function(e){return{sources:e.sources,addSource:e.addSource,deleteSource:e.deleteSource,refreshPosts:k,updateSource:T}},function(e){return Object(u.b)({setSources:R,addSource:N,deleteSource:A,refreshPosts:k,updateSource:T},e)})(ge),we=o(10),je=o.n(we),Ce=function(e){function t(){var e,o;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(o=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){window.open(o.props.post.url,"_blank")},o.componentDidMount=function(){window.scrollTo(0,0)},o}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e="";return e=this.props.post.author?"by ".concat(this.props.post.author):"",r.a.createElement("article",{className:je.a.body},r.a.createElement(q,{mode:"show",titleClick:this.handleClick,postTitle:this.props.post.title}),r.a.createElement("div",{className:je.a.secondLine},r.a.createElement("div",{className:je.a.sourceAuthorWrapper},r.a.createElement("div",{className:je.a.author},e),r.a.createElement(G,{mode:"show",source:this.props.post.source})),r.a.createElement("div",{className:je.a.buttonsWrapper},r.a.createElement(X,{type:"star",value:this.props.post.star,postId:this.props.post._id}),r.a.createElement(X,{type:"delete",postId:this.props.post._id,toggle:this.props.toggle}))),r.a.createElement("section",{className:je.a.text,dangerouslySetInnerHTML:{__html:this.props.post.text}}),r.a.createElement(ae,null),r.a.createElement("footer",{className:je.a.statusLine},r.a.createElement(O,{pre:"published:",timestamp:new Date(this.props.post.published),mode:"show"}),r.a.createElement(O,{pre:"parsed:",timestamp:new Date(this.props.post.parsed),mode:"show"}),r.a.createElement(K,{volume:this.props.post.pages,units:"pages"})))}}]),t}(r.a.Component),Pe=function(e){function t(e){var o;return Object(m.a)(this,t),(o=Object(f.a)(this,Object(b.a)(t).call(this,e))).markRead=function(e){var t={id:e,action:["post","update"],fields:{read:!0}};o.props.updatePost(t)},o.setPostToShow=function(e){o.setState({post:e.payload}),o.showModule("show"),o.markRead(e.payload._id)},o.showModule=function(e){o.setState(function(t){return{module:e}})},o.menuOpen=function(){o.setState({menuOpen:!o.state.menuOpen})},o.showRead=function(){o.setState({showRead:!o.state.showRead})},o.state={post:{},module:"Home",menuOpen:!1,showRead:!1},o}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e={show:this.showModule,menuOpen:this.menuOpen,menuStatus:this.state.menuOpen,showRead:this.showRead},t=r.a.createElement(pe,{showPost:this.setPostToShow,showRead:this.state.showRead});switch(this.state.module){case"show":t=r.a.createElement(Ce,{post:this.state.post,toggle:this.showModule});break;case"Sources":t=r.a.createElement(ye,null)}return r.a.createElement("div",null,t,r.a.createElement(U,{options:e}))}}]),t}(r.a.Component),Te=Object(c.b)(function(e){return{updatePost:e.updatePost}},function(e){return Object(u.b)({updatePost:P},e)})(Pe),ke=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement(w,null),r.a.createElement(Te,null))}}]),t}(r.a.Component);o(59),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.load({google:{families:["Aleo:300,300i,400,400i,700","IBM Plex Mono:300,400"]}});var Ne=Object(u.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.payload;default:return e}},sources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SOURCES":return t.payload;default:return e}},addSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SOURCE":return t.payload;default:return e}},selectPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_POST":return t.payload;default:return e}},updatePost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_POST":return t.payload;default:return e}},updateSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SOURCE":return t.payload;default:return e}},deleteSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_SOURCE":return t.payload;default:return e}},refreshPostsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_POST":return t.payload;default:return e}},sourceCreateModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODULE":return t.payload;default:return e}}}),Ae=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d)(Object(u.a)(l.a,i.logger));s.a.render(r.a.createElement(c.a,{store:Object(u.e)(Ne,{posts:[],sources:[],addSource:"",updatePost:"",selectPost:"",sourceCreateModule:!0,deleteSource:"",refreshPostsReducer:""},Ae)},r.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[39,1,2]]]);
//# sourceMappingURL=main.8a2d5c9a.chunk.js.map