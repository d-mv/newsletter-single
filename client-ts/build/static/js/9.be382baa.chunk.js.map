{"version":3,"sources":["styles/_typography.tsx","styles/SourceEditAdd.tsx","components/SourceEdit.tsx"],"names":["__webpack_require__","d","__webpack_exports__","textMessage","textSourceEditMobile","textSourceEditDesktop","concat","Add","styled","section","_templateObject","lightGreyTrans","slideDown","arsenic","lightGrey","boxShadow","boxTransition","ButtonsWrapper","div","_templateObject2","Cancel","button","_templateObject3","baseFont","darkMediumGrey","Edit","_templateObject4","Submit","_templateObject5","Error","_templateObject6","statusFont","SourceEdit","props","currentSource","_id","name","url","home","source","_useState","useState","_useState2","Object","slicedToArray","setName","_useState3","_useState4","setUrl","_useState5","_useState6","setHome","errors","closeForm","close","checkInput","regex","RegExp","field","value","test","handleInputChange","event","target","cancelButton","react_default","a","createElement","onClick","formElements","onSubmit","preventDefault","console","log","checkName","type","newSource","oldSource","JSON","stringify","submit","onChange","id","data-test"],"mappings":"yFAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAAJ,EAAAC,EAAAC,EAAA,sBAAAG,IACA,IAGMF,EAAW,mBAAAG,OAHA,YAIXF,EAAoB,qBAAAE,OAHP,aAIbD,EAAqB,mBAAAC,OAJR,k4ICanB,IAAMC,EAAMC,IAAOC,QAAVC,IAQOC,IAQoBC,IAoBZC,IACXC,IACKC,IACAC,IAaAZ,IAGAC,IASAD,IAGAC,IAEUS,KAOtBG,EAAiBT,IAAOU,IAAVC,KAadC,EAASZ,IAAOa,OAAVC,IAIUR,IACLS,IAaOC,KAIlBC,EAAOjB,IAAOU,IAAVQ,IAE0Bd,IAGZC,IACXC,IAuBKV,IAGAC,IASAD,IAGAC,IAGUS,KAOtBa,EAASnB,IAAOa,OAAVO,IAMYd,IACLS,IAaOC,KAKpBK,EAAQrB,IAAOU,IAAVY,IAEMC,KC3BFC,UAvKI,SAACC,GAKlB,IAAIC,EAAgB,CAClBC,IAAK,GACLC,KAAM,GACNC,IAAK,GACLC,KAAM,IAGJL,EAAMM,SACRL,EAAgBD,EAAMM,QATpB,IAAAC,EAYoBC,mBAASP,EAAcE,MAZ3CM,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAYGJ,EAZHM,EAAA,GAYSG,EAZTH,EAAA,GAAAI,EAakBL,mBAASP,EAAcG,KAbzCU,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAaGT,EAbHU,EAAA,GAaQC,EAbRD,EAAA,GAAAE,EAcoBR,mBAASP,EAAcI,MAd3CY,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAcGX,EAdHY,EAAA,GAcSC,EAdTD,EAAA,GAeAE,EAAS,CACXhB,KAAM,GACNC,IAAK,GACLC,KAAM,IAGFe,EAAY,WACZpB,EAAMqB,OACRrB,EAAMqB,SAIJC,EAAa,SAACtB,GAKlB,IAAMuB,EAAQ,IAAIC,OAChB,4GACA,MAEF,OAAQxB,EAAMyB,OACZ,IAAK,OACH,MAAoB,KAAhBzB,EAAM0B,OACRP,EAAOhB,KAAO,IACP,IAEPgB,EAAOhB,KAAO,wBACP,GAEX,IAAK,MACH,MAAoB,KAAhBH,EAAM0B,MACJH,EAAMI,KAAK3B,EAAM0B,QACnBP,EAAOf,IAAM,IACN,IAEPe,EAAOf,IAAM,oBACN,IAGTe,EAAOhB,KAAO,uBACP,GAEX,QACE,MAAoB,KAAhBH,EAAM0B,MACJH,EAAMI,KAAK3B,EAAM0B,QACnBP,EAAOd,KAAO,IACP,IAEPc,EAAOd,KAAO,yBACP,IAGTc,EAAOd,KAAO,4BACP,KA+BTuB,EAAoB,SAACC,GACzB,OAAQA,EAAMC,OAAO3B,MACnB,IAAK,OACHS,EAAQiB,EAAMC,OAAOJ,OACrB,MACF,IAAK,MACHX,EAAOc,EAAMC,OAAOJ,OACpB,MACF,QACER,EAAQW,EAAMC,OAAOJ,SAIrBK,EAAe/B,EAAMM,OAAS,KAClC0B,EAAAC,EAAAC,cAAC/C,EAAD,CAAQgD,QAAS,kBAAMf,MAAvB,UAEIgB,EACJJ,EAAAC,EAAAC,cAAA,QAAMG,SA3Ca,SAACR,GACpBA,EAAMS,iBACNC,QAAQC,IAAI,gBACZ,IAAMC,EACJnB,EAAW,CAAEI,MAAOvB,EAAMsB,MAAO,OAAQiB,KAAM,UAC/CpB,EAAW,CAAEI,MAAOtB,EAAKqB,MAAO,MAAOiB,KAAM,SAC7CpB,EAAW,CAAEI,MAAOrB,EAAMoB,MAAO,OAAQiB,KAAM,QAC3CC,EAAY,CAChBzC,IAAKD,EAAcC,IAAMD,EAAcC,IAAM,GAC7CC,OACAC,MACAC,QAEIuC,EAAY,CAChB1C,IAAKF,EAAMM,OAASN,EAAMM,OAAOJ,IAAM,GACvCC,KAAMH,EAAMM,OAASN,EAAMM,OAAOH,KAAO,GACzCC,IAAKJ,EAAMM,OAASN,EAAMM,OAAOF,IAAM,GACvCC,KAAML,EAAMM,OAASN,EAAMM,OAAOD,KAAO,IAE9BwC,KAAKC,UAAUH,KAAeE,KAAKC,UAAUF,IAC7CH,GAAaE,IAAc1C,IACtCD,EAAM+C,OAAOJ,GACbvB,OAsBAY,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,SACEQ,KAAK,OACLvC,KAAK,OACLuB,MAAOvB,EACP6C,SAAUpB,KAGdI,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,SAAOQ,KAAK,MAAMvC,KAAK,MAAMuB,MAAOtB,EAAK4C,SAAUpB,KAErDI,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,SACEQ,KAAK,MACLvC,KAAK,OACLuB,MAAOrB,EACP2C,SAAUpB,KAGbT,EAAOhB,KAAO6B,EAAAC,EAAAC,cAACtC,EAAD,UAAUuB,EAAOhB,MAAgB,KAC/CgB,EAAOf,IAAM4B,EAAAC,EAAAC,cAACtC,EAAD,UAAUuB,EAAOf,KAAe,KAC7Ce,EAAOd,KAAO2B,EAAAC,EAAAC,cAACtC,EAAD,UAAUuB,EAAOd,MAAgB,KAChD2B,EAAAC,EAAAC,cAAClD,EAAD,KACEgD,EAAAC,EAAAC,cAACxC,EAAD,KACEsC,EAAAC,EAAAC,cAAA,SACEQ,KAAK,SACLhB,MAAO1B,EAAMM,OAAS,SAAW,MACjC2C,GAAG,mBAGNlB,IASP,OALiB/B,EAAMM,OACrB0B,EAAAC,EAAAC,cAAC1C,EAAD,CAAM0D,YAAU,0BAA0Bd,GAE1CJ,EAAAC,EAAAC,cAAC5D,EAAD,CAAK4E,YAAU,yBAAyBd","file":"static/js/9.be382baa.chunk.js","sourcesContent":["// fonts\nconst baseFont = \"Alegreya\";\nconst statusFont = \"Open Sans\";\n// text\nconst textMessage = `italic 400 1rem ${baseFont}`\nconst textSourceEditMobile = `normal 300 0.8rem ${statusFont}`;\nconst textSourceEditDesktop = `normal 300 1rem ${statusFont}`;\n\n\nexport {\n  baseFont,\n  statusFont,\n  textMessage,\n  textSourceEditMobile,\n  textSourceEditDesktop\n};","import styled from \"styled-components\";\n\nimport {\n  arsenic,\n  lightGrey,\n  darkMediumGrey,\n  boxShadow,\n  boxTransition,\n  statusFont,\n  baseFont,\n  lightGreyTrans\n} from \"./_definitions\";\nimport { textSourceEditMobile, textSourceEditDesktop } from \"./_typography\";\nimport { slideDown } from \"./_animations\";\n\nconst Add = styled.section`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 100vh;\n  width: 100vw;\n  background: ${lightGreyTrans};\n  z-index: 100;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n\n  /*  */\n  form {\n    animation: 0.3s ease-out 0s 1 ${slideDown};\n\n    @media (max-width: 499px) {\n      position: absolute;\n      height: 180px;\n      top: 30vh;\n      width: 100vw;\n      padding: 1rem 0;\n    }\n    @media (min-width: 500px) {\n      border-radius: 2px;\n      position: absolute;\n      height: 195px;\n      top: 30vh;\n      width: 75%;\n      max-width: 750px;\n      padding: 1rem 1rem;\n    }\n\n    margin: 0 auto;\n    background-color: ${arsenic};\n    color: ${lightGrey};\n    box-shadow: ${boxShadow};\n    transition: ${boxTransition};\n    display: flex;\n    flex-direction: column;\n\n    label {\n      width: 90%;\n      display: grid;\n      grid-template-columns: 1fr 4fr;\n      grid-template-areas: \"title\" \"field\";\n      margin: 5px auto;\n\n      span {\n        @media (max-width: 499px) {\n          font: ${textSourceEditMobile};\n        }\n        @media (min-width: 500px) {\n          font: ${textSourceEditDesktop};\n        }\n        padding-top: 5px;\n      }\n\n      input {\n        grid-area: \"field\";\n        border: none;\n        @media (max-width: 499px) {\n          font: ${textSourceEditMobile};\n        }\n        @media (min-width: 500px) {\n          font: ${textSourceEditDesktop};\n        }\n        background-color: ${lightGrey};\n        padding: 5px 3px;\n        border-radius: 2px;\n      }\n    }\n  }\n`;\nconst ButtonsWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  text-align: center;\n  width: 50%;\n  margin: 1rem auto;\n\n  @media (max-width: 499px) {\n  }\n  @media (min-width: 500px) {\n  }\n`;\nconst Cancel = styled.button`\n  font-weight: 300;\n  background: none;\n  border: none;\n  background-color: ${lightGrey};\n  font-family: ${baseFont};\n  border-radius: 2px;\n  margin: 0.2rem auto;\n  padding: 5px 10px;\n\n  font-size: 1rem;\n  letter-spacing: 1px;\n  outline: none;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n\n  &:hover {\n    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n    background-color: ${darkMediumGrey};\n  }\n`;\n\nconst Edit = styled.div`\n  form {\n    animation: 0.3s ease-out 0s 1 ${slideDown};\n    border-radius: 0 0 2px 2px;\n    margin: 0 auto;\n    background-color: ${arsenic};\n    color: ${lightGrey};\n    @media (max-width: 499px) {\n      width: 90%;\n      margin-top: -0.4rem;\n    }\n    @media (min-width: 500px) {\n      margin-top: -0.2rem;\n\n      width: 75%;\n      max-width: 750px;\n    }\n    padding: 2%;\n    display: flex;\n    flex-direction: column;\n\n    label {\n      width: 100%;\n      display: grid;\n      grid-template-columns: 1fr 4fr;\n      grid-template-areas: \"title\" \"field\";\n      margin: 5px 0;\n      span {\n        @media (max-width: 499px) {\n          font: ${textSourceEditMobile};\n        }\n        @media (min-width: 500px) {\n          font: ${textSourceEditDesktop};\n        }\n        padding-top: 5px;\n      }\n\n      input {\n        grid-area: \"field\";\n        border: none;\n        @media (max-width: 499px) {\n          font: ${textSourceEditMobile};\n        }\n        @media (min-width: 500px) {\n          font: ${textSourceEditDesktop};\n        }\n\n        background-color: ${lightGrey};\n        padding: 5px 3px;\n        border-radius: 2px;\n      }\n    }\n  }\n`;\nconst Submit = styled.button`\n  margin: 0 auto;\n  input {\n    font-weight: 300;\n    background: none;\n    border: none;\n    background-color: ${lightGrey};\n    font-family: ${baseFont};\n    border-radius: 2px;\n    margin: 0.2rem auto;\n    padding: 10px 15px;\n    font-size: 1rem;\n    letter-spacing: 1px;\n    outline: none;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n\n    &:hover {\n      box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25),\n        0 10px 10px rgba(0, 0, 0, 0.22);\n      background-color: ${darkMediumGrey};\n    }\n  }\n`;\n\nconst Error = styled.div`\n  color: red;\n  font-family: ${statusFont};\n  font-size: 0.8rem;\n  font-weight: 300;\n`;\n\nexport { Add, Cancel, ButtonsWrapper, Edit, Submit, Error };\n","import React, { useState } from \"react\";\n\nimport { Source } from \"../store/source/types\";\n\nimport {\n  Edit,\n  Error,\n  Submit,\n  Add,\n  Cancel,\n  ButtonsWrapper\n} from \"../styles/SourceEditAdd\";\n\nconst SourceEdit = (props: {\n  source?: Source;\n  submit: (arg0: Source) => any;\n  close?: () => void;\n}) => {\n  let currentSource = {\n    _id: \"\",\n    name: \"\",\n    url: \"\",\n    home: \"\"\n  };\n\n  if (props.source) {\n    currentSource = props.source;\n  }\n\n  const [name, setName] = useState(currentSource.name);\n  const [url, setUrl] = useState(currentSource.url);\n  const [home, setHome] = useState(currentSource.home);\n  let errors = {\n    name: \"\",\n    url: \"\",\n    home: \"\"\n  };\n\n  const closeForm = () => {\n    if (props.close) {\n      props.close();\n    }\n  };\n\n  const checkInput = (props: {\n    value: string;\n    field: string;\n    type: string;\n  }) => {\n    const regex = new RegExp(\n      \"^(http://www.|https://www.|http://|https://)?[a-z0-9]+([-.]{1}[a-z0-9]+)*.[a-z]{2,5}(:[0-9]{1,5})?(/.*)?$\",\n      \"gm\"\n    );\n    switch (props.field) {\n      case \"name\":\n        if (props.value !== \"\") {\n          errors.name = \"\";\n          return true;\n        } else {\n          errors.name = \"Name is not provided\";\n          return false;\n        }\n      case \"url\":\n        if (props.value !== \"\") {\n          if (regex.test(props.value)) {\n            errors.url = \"\";\n            return true;\n          } else {\n            errors.url = \"The URL is wrong\";\n            return false;\n          }\n        } else {\n          errors.name = \"URL is not provided\";\n          return false;\n        }\n      default:\n        if (props.value !== \"\") {\n          if (regex.test(props.value)) {\n            errors.home = \"\";\n            return true;\n          } else {\n            errors.home = \"The homepage is wrong\";\n            return false;\n          }\n        } else {\n          errors.home = \"Homepage is not provided\";\n          return false;\n        }\n    }\n  };\n\n  const handleSubmit = (event: any) => {\n    event.preventDefault();\n    console.log(\"form clicked\");\n    const checkName =\n      checkInput({ value: name, field: \"name\", type: \"text\" }) &&\n      checkInput({ value: url, field: \"url\", type: \"url\" }) &&\n      checkInput({ value: home, field: \"home\", type: \"url\" });\n    const newSource = {\n      _id: currentSource._id ? currentSource._id : \"\",\n      name,\n      url,\n      home\n    };\n    const oldSource = {\n      _id: props.source ? props.source._id : \"\",\n      name: props.source ? props.source.name : \"\",\n      url: props.source ? props.source.url : \"\",\n      home: props.source ? props.source.home : \"\"\n    };\n    const diff = JSON.stringify(newSource) === JSON.stringify(oldSource);\n    if (!diff && checkName && newSource !== currentSource) {\n      props.submit(newSource);\n      closeForm();\n    }\n  };\n\n  const handleInputChange = (event: any) => {\n    switch (event.target.name) {\n      case \"name\":\n        setName(event.target.value);\n        break;\n      case \"url\":\n        setUrl(event.target.value);\n        break;\n      default:\n        setHome(event.target.value);\n        break;\n    }\n  };\n  const cancelButton = props.source ? null : (\n    <Cancel onClick={() => closeForm()}>Cancel</Cancel>\n  );\n  const formElements = (\n    <form onSubmit={handleSubmit}>\n      <label>\n        <span>Source</span>\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          onChange={handleInputChange}\n        />\n      </label>\n      <label>\n        <span>URL</span>\n        <input type=\"url\" name=\"url\" value={url} onChange={handleInputChange} />\n      </label>\n      <label>\n        <span>Homepage</span>\n        <input\n          type=\"url\"\n          name=\"home\"\n          value={home}\n          onChange={handleInputChange}\n        />\n      </label>\n      {errors.name ? <Error>- {errors.name}</Error> : null}\n      {errors.url ? <Error>- {errors.url}</Error> : null}\n      {errors.home ? <Error>- {errors.home}</Error> : null}\n      <ButtonsWrapper>\n        <Submit>\n          <input\n            type=\"button\"\n            value={props.source ? \"Submit\" : \"Add\"}\n            id=\"submit_button\"\n          />\n        </Submit>\n        {cancelButton}\n      </ButtonsWrapper>\n    </form>\n  );\n  const editForm = props.source ? (\n    <Edit data-test=\"component__source-edit\">{formElements}</Edit>\n  ) : (\n    <Add data-test=\"component__source-add\">{formElements}</Add>\n  );\n  return editForm;\n};\n\nexport default SourceEdit;\n"],"sourceRoot":""}