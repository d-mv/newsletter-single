{"version":3,"sources":["components/Source/SourceCard.tsx","components/Source/SourceCardList.tsx","styles/SourceEditAdd.module.scss","components/Source/SourceEdit.tsx","styles/SourceCard.module.scss","styles/SourceCardList.module.scss"],"names":["SourceCard","props","editToggler","toggleProps","opened","id","setOpen","cardEdit","source","_id","react_default","a","createElement","SourceEdit","submit","submitProps","update","className","style","card","onClick","nameWrapper","name","url","wrapper","PostButton","mode","status","index_esm","React","lazy","Promise","resolve","then","__webpack_require__","bind","SourceCardList","_React$useState","useState","_React$useState2","Object","slicedToArray","openEditId","setOpenEditId","_React$useState3","_React$useState4","showAddSource","setAddSource","toggleShowAddSource","addSource","react","fallback","SourceCardList_SourceEdit","close","list","sources","map","Source_SourceCard","key","aria-label","module","exports","add","slideDown","buttonsWrapper","cancel","edit","error","scaleUp","slideInFromTop","slideInFromLeft","growLarge","rotate","disappear","currentSource","home","_useState","_useState2","_Users_dmitry_Desktop_Projects_newsletter_single_client_ts_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","setName","_useState3","_useState4","setUrl","_useState5","_useState6","setHome","errors","closeForm","checkInput","regex","RegExp","field","value","test","handleInputChange","event","target","cancelButton","react__WEBPACK_IMPORTED_MODULE_1___default","formElements","onSubmit","preventDefault","checkName","type","newSource","oldSource","JSON","stringify","onChange","data-test","button","modal","central","display","message"],"mappings":"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","file":"static/js/5.4bc752e9.chunk.js","sourcesContent":["import React from \"react\";\nimport { FaEdit, FaTrash } from \"react-icons/fa\";\n\nimport { Source } from \"../../store/source/types\";\n\nimport Button from \"../Post/PostButton\";\nimport Edit from \"./SourceEdit\";\nimport style from '../../styles/SourceCard.module.scss'\n\nconst SourceCard = (props: {\n  source: Source;\n  opened: string;\n  setOpen: (arg0: any) => void;\n  update: (arg0: any) => any;\n}) => {\n  const editToggler = (toggleProps: any) => {\n    props.opened === toggleProps.id\n      ? props.setOpen(\"\")\n      : props.setOpen(toggleProps.id);\n  };\n\n  const submitChanges = (submitProps: any) => {\n    editToggler(submitProps._id);\n    props.update(submitProps);\n  };\n  const cardEdit =\n    props.opened === props.source._id ? (\n      <Edit source={props.source} submit={submitChanges} />\n    ) : null;\n\n  return (\n    <section className={style.source}>\n      <div className={style.card} onClick={() => editToggler({ id: props.source._id })}>\n        <section className={style.nameWrapper}>\n          <div className={style.name}> {props.source.name}</div>\n          <div className={style.url}>{props.source.url}</div>\n        </section>\n        <div className={style.wrapper}>\n          <Button\n            update={editToggler}\n            mode=\"edit\"\n            id={props.source._id}\n            status={props.opened === props.source._id}\n          >\n            <FaEdit />\n          </Button>\n          <Button\n            update={editToggler}\n            mode=\"delete\"\n            id={props.source._id}\n            status={false}\n          >\n            <FaTrash />\n          </Button>\n        </div>\n      </div>\n      {cardEdit}\n    </section>\n  );\n};\n\nexport default SourceCard;\n","import React, { Suspense } from \"react\";\n\nimport { Source } from \"../../store/source/types\";\n\nimport SourceCard from \"./SourceCard\";\n\nimport \"../../styles/_ui.scss\";\nimport style from \"../../styles/SourceCardList.module.scss\";\n\nconst SourceEdit = React.lazy(() => import(\"./SourceEdit\"));\n\nconst SourceCardList = (props: {\n  sources: Source[];\n  submit: (arg0: Source) => any;\n  update: (arg0: any) => void;\n}) => {\n  const [openEditId, setOpenEditId] = React.useState(\"\");\n  const [showAddSource, setAddSource] = React.useState(false);\n\n  const toggleShowAddSource = () => {\n    setAddSource(!showAddSource);\n  };\n  const addSource = (\n    <Suspense fallback={<div />}>\n      <SourceEdit submit={props.submit} close={toggleShowAddSource} />\n    </Suspense>\n  );\n  return (\n    <main className={style.list}>\n      {props.sources.map((source: Source) => {\n        return (\n          <SourceCard\n            key={source._id}\n            source={source}\n            opened={openEditId}\n            setOpen={setOpenEditId}\n            update={props.update}\n          />\n        );\n      })}\n      <section className={style.addSource}>\n        <button className=\"button\" aria-label='Add source' onClick={() => toggleShowAddSource()}>\n          Add source\n        </button>\n      </section>\n      {showAddSource ? addSource : null}\n    </main>\n  );\n};\n\nexport default SourceCardList;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"add\":\"SourceEditAdd_add__38_Hh\",\"slideDown\":\"SourceEditAdd_slideDown__345va\",\"buttonsWrapper\":\"SourceEditAdd_buttonsWrapper__2-dAQ\",\"cancel\":\"SourceEditAdd_cancel__rzETj\",\"edit\":\"SourceEditAdd_edit__2hFrs\",\"submit\":\"SourceEditAdd_submit__1kIQR\",\"error\":\"SourceEditAdd_error__EAwLA\",\"scaleUp\":\"SourceEditAdd_scaleUp__3oZ3e\",\"slideInFromTop\":\"SourceEditAdd_slideInFromTop__1814x\",\"slideInFromLeft\":\"SourceEditAdd_slideInFromLeft__21_vy\",\"growLarge\":\"SourceEditAdd_growLarge__6NFqd\",\"rotate\":\"SourceEditAdd_rotate__z5WTt\",\"disappear\":\"SourceEditAdd_disappear__2Lq0G\"};","import React, { useState } from \"react\";\n\nimport { Source } from \"../../store/source/types\";\n\nimport style from \"../../styles/SourceEditAdd.module.scss\";\n\nconst SourceEdit = (props: {\n  source?: Source;\n  submit: (arg0: Source) => any;\n  close?: () => void;\n}) => {\n\n  let currentSource = {\n    _id: \"\",\n    name: \"\",\n    url: \"\",\n    home: \"\"\n  };\n\n  if (props.source) {\n    currentSource = props.source;\n  }\n\n  const [name, setName] = useState(currentSource.name);\n  const [url, setUrl] = useState(currentSource.url);\n  const [home, setHome] = useState(currentSource.home);\n  let errors = {\n    name: \"\",\n    url: \"\",\n    home: \"\"\n  };\n\n  const closeForm = () => {\n    if (props.close) {\n      props.close();\n    }\n  };\n\n  const checkInput = (props: {\n    value: string;\n    field: string;\n    type: string;\n  }) => {\n    const regex = new RegExp(\n      \"^(http://www.|https://www.|http://|https://)?[a-z0-9]+([-.]{1}[a-z0-9]+)*.[a-z]{2,5}(:[0-9]{1,5})?(/.*)?$\",\n      \"gm\"\n    );\n    switch (props.field) {\n      case \"name\":\n        if (props.value !== \"\") {\n          errors.name = \"\";\n          return true;\n        } else {\n          errors.name = \"Name is not provided\";\n          return false;\n        }\n      case \"url\":\n        if (props.value !== \"\") {\n          if (regex.test(props.value)) {\n            errors.url = \"\";\n            return true;\n          } else {\n            errors.url = \"The URL is wrong\";\n            return false;\n          }\n        } else {\n          errors.name = \"URL is not provided\";\n          return false;\n        }\n      default:\n        if (props.value !== \"\") {\n          if (regex.test(props.value)) {\n            errors.home = \"\";\n            return true;\n          } else {\n            errors.home = \"The homepage is wrong\";\n            return false;\n          }\n        } else {\n          errors.home = \"Homepage is not provided\";\n          return false;\n        }\n    }\n  };\n\n  const handleSubmit = (event: any) => {\n    event.preventDefault();\n    const checkName =\n      checkInput({ value: name, field: \"name\", type: \"text\" }) &&\n      checkInput({ value: url, field: \"url\", type: \"url\" }) &&\n      checkInput({ value: home, field: \"home\", type: \"url\" });\n    const newSource = {\n      _id: currentSource._id ? currentSource._id : \"\",\n      name,\n      url,\n      home\n    };\n    const oldSource = {\n      _id: props.source ? props.source._id : \"\",\n      name: props.source ? props.source.name : \"\",\n      url: props.source ? props.source.url : \"\",\n      home: props.source ? props.source.home : \"\"\n    };\n    const diff = JSON.stringify(newSource) === JSON.stringify(oldSource);\n    if (!diff && checkName && newSource !== currentSource) {\n      props.submit(newSource);\n      closeForm();\n    }\n  };\n\n  const handleInputChange = (event: any) => {\n    switch (event.target.name) {\n      case \"name\":\n        setName(event.target.value);\n        break;\n      case \"url\":\n        setUrl(event.target.value);\n        break;\n      default:\n        setHome(event.target.value);\n        break;\n    }\n  };\n  const cancelButton = props.source ? null : (\n    <button className={style.cancel} aria-label='Cancel' onClick={() => closeForm()}>\n      Cancel\n    </button>\n  );\n  const formElements = (\n    <form onSubmit={handleSubmit}>\n      <label>\n        <span>Source</span>\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          onChange={handleInputChange}\n        />\n      </label>\n      <label>\n        <span>URL</span>\n        <input\n          type=\"url\"\n          name=\"url\"\n          value={url}\n          onChange={handleInputChange}\n        />\n      </label>\n      <label>\n        <span>Homepage</span>\n        <input\n          type=\"url\"\n          name=\"home\"\n          value={home}\n          onChange={handleInputChange}\n        />\n      </label>\n      {errors.name ? (\n        <div className={style.error}>- {errors.name}</div>\n      ) : null}\n      {errors.url ? <div className={style.error}>- {errors.url}</div> : null}\n      {errors.home ? (\n        <div className={style.error}>- {errors.home}</div>\n      ) : null}\n      <div className={style.buttonsWrapper}>\n        <button\n          className={style.submit}\n          aria-label={props.source ? \"Submit\" : \"Add\"}\n        >\n          <input\n            type=\"button\"\n            value={props.source ? \"Submit\" : \"Add\"}\n            id=\"submit_button\"\n          />\n        </button>\n        {cancelButton}\n      </div>\n    </form>\n  );\n  const editForm = props.source ? (\n    <section className={style.edit} data-test=\"component__source-edit\">{formElements}</section>\n  ) : (\n    <section className={style.add} data-test=\"component__source-add\">{formElements}</section>\n  );\n  return editForm;\n};\n\nexport default SourceEdit;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"source\":\"SourceCard_source__3-lc0\",\"scaleUp\":\"SourceCard_scaleUp__sc-b9\",\"card\":\"SourceCard_card__2ui6G\",\"nameWrapper\":\"SourceCard_nameWrapper__2o2X_\",\"name\":\"SourceCard_name__NoISU\",\"url\":\"SourceCard_url__yEeJe\",\"wrapper\":\"SourceCard_wrapper__3DZx1\",\"slideInFromTop\":\"SourceCard_slideInFromTop__MflUp\",\"slideInFromLeft\":\"SourceCard_slideInFromLeft__3FOig\",\"growLarge\":\"SourceCard_growLarge__2IRjl\",\"slideDown\":\"SourceCard_slideDown__Rubc3\",\"rotate\":\"SourceCard_rotate__2Wevz\",\"disappear\":\"SourceCard_disappear__2Rn_A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"SourceCardList_button__1XH4y\",\"modal\":\"SourceCardList_modal__14_ZD\",\"central\":\"SourceCardList_central__EgLtY\",\"display\":\"SourceCardList_display__2-IZR\",\"list\":\"SourceCardList_list__IrxFp\",\"message\":\"SourceCardList_message__3u3_X\",\"addSource\":\"SourceCardList_addSource__1se4s\"};"],"sourceRoot":""}