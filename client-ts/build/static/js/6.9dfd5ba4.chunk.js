(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{106:function(e,a,t){"use strict";t.r(a);var n=t(11),l=t(0),r=t.n(l),s=t(15),u=t(10),o=t(19),i=t(81),c=t.n(i),m=Object(u.b)(function(e){return{user:e.user,authStatus:e.authStatus}},{checkUser:o.b,currentUser:o.c,setAuthStatus:o.d})(Object(s.b)(function(e){var a=r.a.useState(""),t=Object(n.a)(a,2),l=t[0],s=t[1],u=r.a.useState(""),o=Object(n.a)(u,2),i=o[0],m=o[1],b=r.a.useState(""),g=Object(n.a)(b,2),p=g[0],_=g[1],E=r.a.useState(""),h=Object(n.a)(E,2),d=h[0],f=h[1],v=r.a.useState(""),N=Object(n.a)(v,2),w=N[0],S=N[1],j=r.a.useState(""),k=Object(n.a)(j,2),O=k[0],L=k[1],P=r.a.useState(!1),T=Object(n.a)(P,2),x=T[0],F=T[1],y=r.a.useState(""),C=Object(n.a)(y,2),H=C[0],R=C[1],U=e.cookies,A=function(e){var a=e.length>0;return S(a?"":"Email is missing"),a},B=function(e){var a=e.length>6;return L(a?"":"Password too short"),a},J=function(e){switch(e.target.name){case"uName":s(e.target.value);break;case"uPass":_(e.target.value);break;default:m(e.target.value)}},W=x?r.a.createElement("label",null,r.a.createElement("span",{className:c.a.label},"Name"),r.a.createElement("input",{type:"text",name:"uName",value:l,onChange:J})):null,D=x?c.a.loginTall:c.a.login,V=x?"Register new user":"Login details",z=r.a.createElement("div",{className:c.a.error},d?r.a.createElement("li",null,d):null,w?r.a.createElement("li",null,w):null,O?r.a.createElement("li",null,O):null,H?r.a.createElement("li",null,H):null);return r.a.createElement("section",{className:D},r.a.createElement("h1",null,V),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),(x?function(e){var a=e.length>3;return f(a?"":"Name is too short"),a}(l)&&A(i)&&B(p):A(i)&&B(p))&&function(a){var t=a.new?"create":"login",n={action:["user",a.new?"create":t],id:"",fields:a.fields};e.checkUser(n).then(function(a){var t=a.payload.data;"new"===t.user?F(!0):t.status?(R(""),e.currentUser({token:t.user.token,email:t.user.email}),e.setAuthStatus(!0),U.set("email",t.user.email,{path:"/"}),U.set("token",t.user.token,{path:"/"})):R(t.data.message)})}({new:x,fields:{name:l,email:i,password:p}})}},W,r.a.createElement("label",null,r.a.createElement("span",{className:c.a.label},"Email"),r.a.createElement("input",{type:"email",name:"uMail",value:i,onChange:J})),r.a.createElement("label",null,r.a.createElement("span",{className:c.a.label},"Password"),r.a.createElement("input",{type:"password",name:"uPass",value:p,onChange:J})),z,r.a.createElement("button",{className:c.a.submit,"aria-label":x?"Register":"Login"},r.a.createElement("input",{type:"button",value:x?"Register":"Login",id:"submit_button"}))))})),b=(t(34),t(82)),g=t.n(b);a.default=function(){var e=r.a.useState(!1),a=Object(n.a)(e,2),t=a[0],l=a[1];return r.a.createElement("main",{className:g.a.home},r.a.createElement("h1",{className:g.a.title},"The Newsletter"),r.a.createElement("h2",{className:g.a.subTitle},"Just information."),r.a.createElement("div",{className:g.a.screenshot}),r.a.createElement("div",{className:g.a.buttonWrapper},r.a.createElement("button",{className:"button","aria-label":"Login or register",onClick:function(){return l(!t)}},"Login or register")),t?r.a.createElement("div",{className:"modal"},r.a.createElement(m,null)):null)}},81:function(e,a,t){e.exports={login:"LoginForm_login__pgnVi",loginTall:"LoginForm_loginTall__3xFXP",label:"LoginForm_label__Exx1P",submit:"LoginForm_submit__3_ICg",error:"LoginForm_error__2pBlE"}},82:function(e,a,t){e.exports={home:"Home_home__2jlRQ",title:"Home_title__1maBB",subTitle:"Home_subTitle__17VvD",screenshot:"Home_screenshot__305jA",buttonWrapper:"Home_buttonWrapper__1GPzh"}}}]);
//# sourceMappingURL=6.9dfd5ba4.chunk.js.map